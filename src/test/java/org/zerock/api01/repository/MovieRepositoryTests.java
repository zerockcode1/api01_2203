package org.zerock.api01.repository;

import lombok.extern.log4j.Log4j2;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.zerock.api01.domain.Movie;

import java.util.Arrays;

@SpringBootTest
@Log4j2
public class MovieRepositoryTests {

    @Autowired
    private MovieRepository movieRepository;

    @Test
    public void testInsert(){
        String str ="수퍼 소닉 2|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18559_101_1.jpg,앰뷸런스|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18551_101_1.jpg,루이스 웨인: 사랑을 그린 고양이 화가|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18470_101_1.jpg,모비우스|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18540_101_1.jpg,AD|,스텔라|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18563_101_1.jpg,신비한 동물들과 덤블도어의 비밀|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18542_101_1.jpg,불도저에 탄 소녀|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18529_101_1.jpg,뜨거운 피|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18504_101_1.jpg,이상한 나라의 수학자|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18497_101_1.jpg,해적: 도깨비 깃발|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202201/18367_101_1.jpg,리디밍 러브|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18501_101_1.jpg,더 배트맨|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18406_101_1.jpg,열정|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18601_101_1.jpg,드라이브 마이 카|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202112/18297_101_1.jpg,극장판 주술회전 0|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202202/18425_101_1.jpg,코다|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202108/17662_101_1.jpg,듄|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202110/17864_101_1.jpg,배니싱: 미제사건|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18567_101_1.jpg,킹 리차드|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18562_101_1.jpg,스펜서|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18471_101_1.jpg,벨파스트|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18530_101_1.jpg,파워 오브 도그|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202111/18084_101_1.jpg,해피 아워|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202112/18243_101_1.jpg,드라이|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18550_101_1.jpg,패러렐 마더스|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18555_101_1.jpg,나의 집은 어디인가|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18561_101_1.jpg,문폴|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18458_101_1.jpg,사랑 후의 두 여자|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202202/17725_101_1.jpg,언차티드|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202202/18468_101_1.jpg,우리가 사랑이라고 믿는 것|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202202/18487_101_1.jpg,천국에서 무덤까지|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18547_101_1.jpg,고양이들의 아파트|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18539_101_1.jpg,나의 히어로 아카데미아 더 무비: 월드 히어로즈 미션|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18515_101_1.jpg,스파이더맨: 노 웨이 홈|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202112/17857_101_1.jpg,어거스트 버진|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18557_101_1.jpg,재춘언니|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18535_101_1.jpg,킹메이커|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202112/18233_101_1.jpg,하로동선|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18572_101_1.jpg,하빗|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18616_101_1.jpg,엄마와 나|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18613_101_1.jpg,평평남녀|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18598_101_1.jpg,고스팅 글로리아|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18565_101_1.jpg,4월은 너의 거짓말|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18599_101_1.jpg,나를 만나는 길|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18610_101_1.jpg,빅샤크4: 바다공룡 대모험|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202112/18089_101_1.jpg,스프링 블라썸|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18622_101_1.jpg,놉|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202207/18564_101_1.jpg,팔마|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18526_101_1.jpg,달빛 그림자|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18594_101_1.jpg,공기살인|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18586_101_1.jpg,태어나길 잘했어|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18600_101_1.jpg,소설가의 영화|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18612_101_1.jpg,배드 가이즈|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18593_101_1.jpg,앵커|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18583_101_1.jpg,파일럿: 배틀 포 서바이벌|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202111/18103_101_1.jpg,그리스도 디 오리진|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18558_101_1.jpg,쿠폰의 여왕|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18602_101_1.jpg,닥터 스트레인지: 대혼돈의 멀티버스|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18538_101_1.jpg,탑건: 매버릭|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202006/14702_101_1.jpg,미니언즈 2|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202007/15599_101_1.jpg,말임씨를 부탁해|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18546_101_1.jpg,민스미트 작전|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18584_101_1.jpg,청킹맨션|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18617_101_1.jpg,쓰리: 아직 끝나지 않았다|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18597_101_1.jpg,극장판 엉덩이 탐정: 수플레 섬의 비밀|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18556_101_1.jpg,봄날|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18595_101_1.jpg,위대한 계약: 파주, 책, 도시|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18592_101_1.jpg,니 부모 얼굴이 보고 싶다|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18609_101_1.jpg,헝거|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18582_101_1.jpg,로스트 시티|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202203/18385_101_1.jpg,버즈 라이트이어|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202206/18512_101_1.jpg,더 컨트랙터|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18621_101_1.jpg,완벽한 축사를 준비하는 방법|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202205/18608_101_1.jpg,내가 처음으로 사랑한 소녀|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18527_101_1.jpg,토르: 마법 검의 전설|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202202/18432_101_1.jpg,쥬라기 월드: 도미니언|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202206/18508_101_1.jpg,복지식당|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202204/18534_101_1.jpg,극장판 귀멸의 칼날: 무한열차편|http://caching.lottecinema.co.kr//Media/MovieFile/MovieImg/202101/16908_101_1.jpg";

        String[] arr = str.split(",");

        for(int i = 0; i < arr.length; i++){

            String[] movieData = arr[i].split("\\|");

            log.info(Arrays.toString(movieData));

            Movie movie = Movie.builder().title(movieData[0]).posterURL(movieData.length < 2 ? "": movieData[1]).build();

            movieRepository.save(movie);

        }//end for


    }
}
